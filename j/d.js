(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))l(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function n(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerPolicy&&(r.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?r.credentials="include":a.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(a){if(a.ep)return;a.ep=!0;const r=n(a);fetch(a.href,r)}})();const Ln=!1;var xt=Array.isArray,La=Array.prototype.indexOf,Xt=Array.from,yt=Object.defineProperty,Ve=Object.getOwnPropertyDescriptor,Nn=Object.getOwnPropertyDescriptors,Na=Object.prototype,Oa=Array.prototype,Zt=Object.getPrototypeOf,_n=Object.isExtensible;const Ge=()=>{};function Ra(e){return e()}function bt(e){for(var t=0;t<e.length;t++)e[t]()}function Ca(){var e,t,n=new Promise((l,a)=>{e=l,t=a});return{promise:n,resolve:e,reject:t}}function On(e,t){if(Array.isArray(e))return e;if(!(Symbol.iterator in e))return Array.from(e);const n=[];for(const l of e)if(n.push(l),n.length===t)break;return n}const ce=2,Qt=4,Pt=8,nt=16,Se=32,ze=64,Rn=128,de=256,wt=512,te=1024,pe=2048,xe=4096,ge=8192,Fe=16384,en=32768,tn=65536,gn=1<<17,Ia=1<<18,nn=1<<19,Cn=1<<20,Ft=1<<21,an=1<<22,Re=1<<23,Ce=Symbol("$state"),Da=Symbol("legacy props"),qa=Symbol(""),rn=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function ja(){throw new Error("https://svelte.dev/e/await_outside_boundary")}function za(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Fa(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Ba(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Ua(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Ha(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Wa(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Ya(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Va(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Ga(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}const Tt=1,Mt=2,In=4,Ka=8,Ja=16,Xa=1,Za=2,Qa=4,er=8,tr=16,nr=1,ar=2,Q=Symbol(),rr="http://www.w3.org/1999/xhtml";let lr=!1;function Dn(e){return e===this.v}function qn(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function jn(e){return!qn(e,this.v)}let at=!1,ir=!1;function sr(){at=!0}let K=null;function $t(e){K=e}function D(e,t=!1,n){K={p:K,c:null,e:null,s:e,x:null,l:at&&!t?{s:null,u:null,$:[]}:null}}function q(e){var t=K,n=t.e;if(n!==null){t.e=null;for(var l of n)ea(l)}return K=t.p,{}}function vt(){return!at||K!==null&&K.l===null}const or=new WeakMap;function ur(e){var t=C;if(t===null)return I.f|=Re,e;if((t.f&en)===0){if((t.f&Rn)===0)throw!t.parent&&e instanceof Error&&zn(e),e;t.b.error(e)}else ln(e,t)}function ln(e,t){for(;t!==null;){if((t.f&Rn)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e instanceof Error&&zn(e),e}function zn(e){const t=or.get(e);t&&(yt(e,"message",{value:t.message}),yt(e,"stack",{value:t.stack}))}let st=[],Bt=[];function Fn(){var e=st;st=[],bt(e)}function fr(){var e=Bt;Bt=[],bt(e)}function sn(e){st.length===0&&queueMicrotask(Fn),st.push(e)}function cr(){st.length>0&&Fn(),Bt.length>0&&fr()}function vr(){for(var e=C.b;e!==null&&!e.has_pending_snippet();)e=e.parent;return e===null&&ja(),e}function dt(e){var t=ce|pe,n=I!==null&&(I.f&ce)!==0?I:null;return C===null||n!==null&&(n.f&de)!==0?t|=de:C.f|=nn,{ctx:K,deps:null,effects:null,equals:Dn,f:t,fn:e,reactions:null,rv:0,v:Q,wv:0,parent:n??C,ac:null}}function dr(e,t){let n=C;n===null&&Fa();var l=n.b,a=void 0,r=ot(Q),i=null,s=!I;return Sr(()=>{try{var o=e()}catch(d){o=Promise.reject(d)}var u=()=>o;a=i?.then(u,u)??Promise.resolve(o),i=a;var f=ee,p=l.pending;s&&(l.update_pending_count(1),p||f.increment());const c=(d,v=void 0)=>{i=null,p||f.activate(),v?v!==rn&&(r.f|=Re,ut(r,v)):((r.f&Re)!==0&&(r.f^=Re),ut(r,d)),s&&(l.update_pending_count(-1),p||f.decrement()),Hn()};if(a.then(c,d=>c(null,d||"unknown")),f)return()=>{queueMicrotask(()=>f.neuter())}}),new Promise(o=>{function u(f){function p(){f===a?o(r):u(a)}f.then(p,p)}u(a)})}function on(e){const t=dt(e);return sa(t),t}function At(e){const t=dt(e);return t.equals=jn,t}function Bn(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)Ee(t[n])}}function pr(e){for(var t=e.parent;t!==null;){if((t.f&ce)===0)return t;t=t.parent}return null}function un(e){var t,n=C;Ne(pr(e));try{Bn(e),t=ca(e)}finally{Ne(n)}return t}function Un(e){var t=un(e);if(e.equals(t)||(e.v=t,e.wv=ua()),!Be)if(Je!==null)Je.set(e,e.v);else{var n=(Ae||(e.f&de)!==0)&&e.deps!==null?xe:te;le(e,n)}}function _r(e,t,n){const l=vt()?dt:At;if(t.length===0){n(e.map(l));return}var a=ee,r=C,i=gr(),s=vr();Promise.all(t.map(o=>dr(o))).then(o=>{a?.activate(),i();try{n([...e.map(l),...o])}catch(u){(r.f&Fe)===0&&ln(u,r)}a?.deactivate(),Hn()}).catch(o=>{s.error(o)})}function gr(){var e=C,t=I,n=K;return function(){Ne(e),be(t),$t(n)}}function Hn(){Ne(null),be(null),$t(null)}const lt=new Set;let ee=null,Je=null,hn=new Set,kt=[];function Wn(){const e=kt.shift();kt.length>0&&queueMicrotask(Wn),e()}let qe=[],Lt=null,Ut=!1,mt=!1;class Xe{current=new Map;#r=new Map;#l=new Set;#e=0;#u=null;#f=!1;#n=[];#i=[];#a=[];#t=[];#s=[];#c=[];#v=[];skipped_effects=new Set;process(t){qe=[];var n=null;if(lt.size>1){n=new Map,Je=new Map;for(const[r,i]of this.current)n.set(r,{v:r.v,wv:r.wv}),r.v=i;for(const r of lt)if(r!==this)for(const[i,s]of r.#r)n.has(i)||(n.set(i,{v:i.v,wv:i.wv}),i.v=s)}for(const r of t)this.#p(r);if(this.#n.length===0&&this.#e===0){this.#d();var l=this.#a,a=this.#t;this.#a=[],this.#t=[],this.#s=[],ee=null,mn(l),mn(a),ee===null?ee=this:lt.delete(this),this.#u?.resolve()}else this.#o(this.#a),this.#o(this.#t),this.#o(this.#s);if(n){for(const[r,{v:i,wv:s}]of n)r.wv<=s&&(r.v=i);Je=null}for(const r of this.#n)De(r);for(const r of this.#i)De(r);this.#n=[],this.#i=[]}#p(t){t.f^=te;for(var n=t.first;n!==null;){var l=n.f,a=(l&(Se|ze))!==0,r=a&&(l&te)!==0,i=r||(l&ge)!==0||this.skipped_effects.has(n);if(!i&&n.fn!==null){if(a)n.f^=te;else if((l&Qt)!==0)this.#t.push(n);else if((l&te)===0)if((l&an)!==0){var s=n.b?.pending?this.#i:this.#n;s.push(n)}else _t(n)&&((n.f&nt)!==0&&this.#s.push(n),De(n));var o=n.first;if(o!==null){n=o;continue}}var u=n.parent;for(n=n.next;n===null&&u!==null;)n=u.next,u=u.parent}}#o(t){for(const n of t)((n.f&pe)!==0?this.#c:this.#v).push(n),le(n,te);t.length=0}capture(t,n){this.#r.has(t)||this.#r.set(t,n),this.current.set(t,t.v)}activate(){ee=this}deactivate(){ee=null;for(const t of hn)if(hn.delete(t),t(),ee!==null)break}neuter(){this.#f=!0}flush(){qe.length>0?Yn():this.#d(),ee===this&&(this.#e===0&&lt.delete(this),this.deactivate())}#d(){if(!this.#f)for(const t of this.#l)t();this.#l.clear()}increment(){this.#e+=1}decrement(){if(this.#e-=1,this.#e===0){for(const t of this.#c)le(t,pe),Ze(t);for(const t of this.#v)le(t,xe),Ze(t);this.#a=[],this.#t=[],this.flush()}else this.deactivate()}add_callback(t){this.#l.add(t)}settled(){return(this.#u??=Ca()).promise}static ensure(){if(ee===null){const t=ee=new Xe;lt.add(ee),mt||Xe.enqueue(()=>{ee===t&&t.flush()})}return ee}static enqueue(t){kt.length===0&&queueMicrotask(Wn),kt.unshift(t)}}function hr(e){var t=mt;mt=!0;try{for(var n;;){if(cr(),qe.length===0&&(ee?.flush(),qe.length===0))return Lt=null,n;Yn()}}finally{mt=t}}function Yn(){var e=Ke;Ut=!0;try{var t=0;for(bn(!0);qe.length>0;){var n=Xe.ensure();if(t++>1e3){var l,a;mr()}n.process(qe),Le.clear()}}finally{Ut=!1,bn(e),Lt=null}}function mr(){try{Wa()}catch(e){ln(e,Lt)}}let Oe=null;function mn(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var l=e[n++];if((l.f&(Fe|ge))===0&&_t(l)&&(Oe=[],De(l),l.deps===null&&l.first===null&&l.nodes_start===null&&(l.teardown===null&&l.ac===null?ra(l):l.fn=null),Oe.length>0)){Le.clear();for(const a of Oe)De(a);Oe=[]}}Oe=null}}function Ze(e){for(var t=Lt=e;t.parent!==null;){t=t.parent;var n=t.f;if(Ut&&t===C&&(n&nt)!==0)return;if((n&(ze|Se))!==0){if((n&te)===0)return;t.f^=te}}qe.push(t)}const Le=new Map;function ot(e,t){var n={f:0,v:e,reactions:null,equals:Dn,rv:0,wv:0};return n}function Me(e,t){const n=ot(e);return sa(n),n}function U(e,t=!1,n=!0){const l=ot(e);return t||(l.equals=jn),at&&n&&K!==null&&K.l!==null&&(K.l.s??=[]).push(l),l}function Ht(e,t){return A(e,S(()=>g(e))),t}function A(e,t,n=!1){I!==null&&(!me||(I.f&gn)!==0)&&vt()&&(I.f&(ce|nt|an|gn))!==0&&!ke?.includes(e)&&Ga();let l=n?Ye(t):t;return ut(e,l)}function ut(e,t){if(!e.equals(t)){var n=e.v;Be?Le.set(e,t):Le.set(e,n),e.v=t;var l=Xe.ensure();l.capture(e,n),(e.f&ce)!==0&&((e.f&pe)!==0&&un(e),le(e,(e.f&de)===0?te:xe)),e.wv=ua(),Vn(e,pe),vt()&&C!==null&&(C.f&te)!==0&&(C.f&(Se|ze))===0&&(ve===null?Tr([e]):ve.push(e))}return t}function qt(e){A(e,e.v+1)}function Vn(e,t){var n=e.reactions;if(n!==null)for(var l=vt(),a=n.length,r=0;r<a;r++){var i=n[r],s=i.f;if(!(!l&&i===C)){var o=(s&pe)===0;o&&le(i,t),(s&ce)!==0?Vn(i,xe):o&&((s&nt)!==0&&Oe!==null&&Oe.push(i),Ze(i))}}}function Ye(e){if(typeof e!="object"||e===null||Ce in e)return e;const t=Zt(e);if(t!==Na&&t!==Oa)return e;var n=new Map,l=xt(e),a=Me(0),r=Ie,i=s=>{if(Ie===r)return s();var o=I,u=Ie;be(null),$n(r);var f=s();return be(o),$n(u),f};return l&&n.set("length",Me(e.length)),new Proxy(e,{defineProperty(s,o,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&Ya();var f=n.get(o);return f===void 0?f=i(()=>{var p=Me(u.value);return n.set(o,p),p}):A(f,u.value,!0),!0},deleteProperty(s,o){var u=n.get(o);if(u===void 0){if(o in s){const f=i(()=>Me(Q));n.set(o,f),qt(a)}}else A(u,Q),qt(a);return!0},get(s,o,u){if(o===Ce)return e;var f=n.get(o),p=o in s;if(f===void 0&&(!p||Ve(s,o)?.writable)&&(f=i(()=>{var d=Ye(p?s[o]:Q),v=Me(d);return v}),n.set(o,f)),f!==void 0){var c=g(f);return c===Q?void 0:c}return Reflect.get(s,o,u)},getOwnPropertyDescriptor(s,o){var u=Reflect.getOwnPropertyDescriptor(s,o);if(u&&"value"in u){var f=n.get(o);f&&(u.value=g(f))}else if(u===void 0){var p=n.get(o),c=p?.v;if(p!==void 0&&c!==Q)return{enumerable:!0,configurable:!0,value:c,writable:!0}}return u},has(s,o){if(o===Ce)return!0;var u=n.get(o),f=u!==void 0&&u.v!==Q||Reflect.has(s,o);if(u!==void 0||C!==null&&(!f||Ve(s,o)?.writable)){u===void 0&&(u=i(()=>{var c=f?Ye(s[o]):Q,d=Me(c);return d}),n.set(o,u));var p=g(u);if(p===Q)return!1}return f},set(s,o,u,f){var p=n.get(o),c=o in s;if(l&&o==="length")for(var d=u;d<p.v;d+=1){var v=n.get(d+"");v!==void 0?A(v,Q):d in s&&(v=i(()=>Me(Q)),n.set(d+"",v))}if(p===void 0)(!c||Ve(s,o)?.writable)&&(p=i(()=>Me(void 0)),A(p,Ye(u)),n.set(o,p));else{c=p.v!==Q;var h=i(()=>Ye(u));A(p,h)}var y=Reflect.getOwnPropertyDescriptor(s,o);if(y?.set&&y.set.call(f,u),!c){if(l&&typeof o=="string"){var m=n.get("length"),b=Number(o);Number.isInteger(b)&&b>=m.v&&A(m,b+1)}qt(a)}return!0},ownKeys(s){g(a);var o=Reflect.ownKeys(s).filter(p=>{var c=n.get(p);return c===void 0||c.v!==Q});for(var[u,f]of n)f.v!==Q&&!(u in s)&&o.push(u);return o},setPrototypeOf(){Va()}})}var yn,Gn,Kn,Jn;function yr(){if(yn===void 0){yn=window,Gn=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;Kn=Ve(t,"firstChild").get,Jn=Ve(t,"nextSibling").get,_n(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),_n(n)&&(n.__t=void 0)}}function pt(e=""){return document.createTextNode(e)}function Et(e){return Kn.call(e)}function Nt(e){return Jn.call(e)}function _(e,t){return Et(e)}function re(e,t){{var n=Et(e);return n instanceof Comment&&n.data===""?Nt(n):n}}function E(e,t=1,n=!1){let l=e;for(;t--;)l=Nt(l);return l}function br(e){e.textContent=""}function Xn(){return!1}function fn(e){var t=I,n=C;be(null),Ne(null);try{return e()}finally{be(t),Ne(n)}}function Zn(e){C===null&&I===null&&Ha(),I!==null&&(I.f&de)!==0&&C===null&&Ua(),Be&&Ba()}function wr(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function we(e,t,n,l=!0){var a=C;a!==null&&(a.f&ge)!==0&&(e|=ge);var r={ctx:K,deps:null,nodes_start:null,nodes_end:null,f:e|pe,first:null,fn:t,last:null,next:null,parent:a,b:a&&a.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{De(r),r.f|=en}catch(o){throw Ee(r),o}else t!==null&&Ze(r);var i=n&&r.deps===null&&r.first===null&&r.nodes_start===null&&r.teardown===null&&(r.f&nn)===0;if(!i&&l&&(a!==null&&wr(r,a),I!==null&&(I.f&ce)!==0&&(e&ze)===0)){var s=I;(s.effects??=[]).push(r)}return r}function Qn(e){const t=we(Pt,null,!1);return le(t,te),t.teardown=e,t}function Wt(e){Zn();var t=C.f,n=!I&&(t&Se)!==0&&(t&en)===0;if(n){var l=K;(l.e??=[]).push(e)}else return ea(e)}function ea(e){return we(Qt|Cn,e,!1)}function $r(e){return Zn(),we(Pt|Cn,e,!0)}function kr(e){Xe.ensure();const t=we(ze,e,!0);return(n={})=>new Promise(l=>{n.outro?vn(t,()=>{Ee(t),l(void 0)}):(Ee(t),l(void 0))})}function Er(e){return we(Qt,e,!1)}function ye(e,t){var n=K,l={effect:null,ran:!1,deps:e};n.l.$.push(l),l.effect=cn(()=>{e(),!l.ran&&(l.ran=!0,S(t))})}function Pe(){var e=K;cn(()=>{for(var t of e.l.$){t.deps();var n=t.effect;(n.f&te)!==0&&le(n,xe),_t(n)&&De(n),t.ran=!1}})}function Sr(e){return we(an|nn,e,!0)}function cn(e,t=0){return we(Pt|t,e,!0)}function H(e,t=[],n=[]){_r(t,n,l=>{we(Pt,()=>e(...l.map(g)),!0)})}function ta(e,t=0){var n=we(nt|t,e,!0);return n}function ft(e,t=!0){return we(Se,e,!0,t)}function na(e){var t=e.teardown;if(t!==null){const n=Be,l=I;wn(!0),be(null);try{t.call(null)}finally{wn(n),be(l)}}}function aa(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const a=n.ac;a!==null&&fn(()=>{a.abort(rn)});var l=n.next;(n.f&ze)!==0?n.parent=null:Ee(n,t),n=l}}function xr(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&Se)===0&&Ee(t),t=n}}function Ee(e,t=!0){var n=!1;(t||(e.f&Ia)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(Pr(e.nodes_start,e.nodes_end),n=!0),aa(e,t&&!n),St(e,0),le(e,Fe);var l=e.transitions;if(l!==null)for(const r of l)r.stop();na(e);var a=e.parent;a!==null&&a.first!==null&&ra(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function Pr(e,t){for(;e!==null;){var n=e===t?null:Nt(e);e.remove(),e=n}}function ra(e){var t=e.parent,n=e.prev,l=e.next;n!==null&&(n.next=l),l!==null&&(l.prev=n),t!==null&&(t.first===e&&(t.first=l),t.last===e&&(t.last=n))}function vn(e,t){var n=[];dn(e,n,!0),la(n,()=>{Ee(e),t&&t()})}function la(e,t){var n=e.length;if(n>0){var l=()=>--n||t();for(var a of e)a.out(l)}else t()}function dn(e,t,n){if((e.f&ge)===0){if(e.f^=ge,e.transitions!==null)for(const i of e.transitions)(i.is_global||n)&&t.push(i);for(var l=e.first;l!==null;){var a=l.next,r=(l.f&tn)!==0||(l.f&Se)!==0;dn(l,t,r?n:!1),l=a}}}function pn(e){ia(e,!0)}function ia(e,t){if((e.f&ge)!==0){e.f^=ge,(e.f&te)===0&&(le(e,pe),Ze(e));for(var n=e.first;n!==null;){var l=n.next,a=(n.f&tn)!==0||(n.f&Se)!==0;ia(n,a?t:!1),n=l}if(e.transitions!==null)for(const r of e.transitions)(r.is_global||t)&&r.in()}}let Ke=!1;function bn(e){Ke=e}let Be=!1;function wn(e){Be=e}let I=null,me=!1;function be(e){I=e}let C=null;function Ne(e){C=e}let ke=null;function sa(e){I!==null&&(ke===null?ke=[e]:ke.push(e))}let ae=null,se=0,ve=null;function Tr(e){ve=e}let oa=1,ct=0,Ie=ct;function $n(e){Ie=e}let Ae=!1;function ua(){return++oa}function _t(e){var t=e.f;if((t&pe)!==0)return!0;if((t&xe)!==0){var n=e.deps,l=(t&de)!==0;if(n!==null){var a,r,i=(t&wt)!==0,s=l&&C!==null&&!Ae,o=n.length;if((i||s)&&(C===null||(C.f&Fe)===0)){var u=e,f=u.parent;for(a=0;a<o;a++)r=n[a],(i||!r?.reactions?.includes(u))&&(r.reactions??=[]).push(u);i&&(u.f^=wt),s&&f!==null&&(f.f&de)===0&&(u.f^=de)}for(a=0;a<o;a++)if(r=n[a],_t(r)&&Un(r),r.wv>e.wv)return!0}(!l||C!==null&&!Ae)&&le(e,te)}return!1}function fa(e,t,n=!0){var l=e.reactions;if(l!==null&&!ke?.includes(e))for(var a=0;a<l.length;a++){var r=l[a];(r.f&ce)!==0?fa(r,t,!1):t===r&&(n?le(r,pe):(r.f&te)!==0&&le(r,xe),Ze(r))}}function ca(e){var t=ae,n=se,l=ve,a=I,r=Ae,i=ke,s=K,o=me,u=Ie,f=e.f;ae=null,se=0,ve=null,Ae=(f&de)!==0&&(me||!Ke||I===null),I=(f&(Se|ze))===0?e:null,ke=null,$t(e.ctx),me=!1,Ie=++ct,e.ac!==null&&(fn(()=>{e.ac.abort(rn)}),e.ac=null);try{e.f|=Ft;var p=e.fn,c=p(),d=e.deps;if(ae!==null){var v;if(St(e,se),d!==null&&se>0)for(d.length=se+ae.length,v=0;v<ae.length;v++)d[se+v]=ae[v];else e.deps=d=ae;if(!Ae||(f&ce)!==0&&e.reactions!==null)for(v=se;v<d.length;v++)(d[v].reactions??=[]).push(e)}else d!==null&&se<d.length&&(St(e,se),d.length=se);if(vt()&&ve!==null&&!me&&d!==null&&(e.f&(ce|xe|pe))===0)for(v=0;v<ve.length;v++)fa(ve[v],e);return a!==null&&a!==e&&(ct++,ve!==null&&(l===null?l=ve:l.push(...ve))),(e.f&Re)!==0&&(e.f^=Re),c}catch(h){return ur(h)}finally{e.f^=Ft,ae=t,se=n,ve=l,I=a,Ae=r,ke=i,$t(s),me=o,Ie=u}}function Mr(e,t){let n=t.reactions;if(n!==null){var l=La.call(n,e);if(l!==-1){var a=n.length-1;a===0?n=t.reactions=null:(n[l]=n[a],n.pop())}}n===null&&(t.f&ce)!==0&&(ae===null||!ae.includes(t))&&(le(t,xe),(t.f&(de|wt))===0&&(t.f^=wt),Bn(t),St(t,0))}function St(e,t){var n=e.deps;if(n!==null)for(var l=t;l<n.length;l++)Mr(e,n[l])}function De(e){var t=e.f;if((t&Fe)===0){le(e,te);var n=C,l=Ke;C=e,Ke=!0;try{(t&nt)!==0?xr(e):aa(e),na(e);var a=ca(e);e.teardown=typeof a=="function"?a:null,e.wv=oa;var r;Ln&&ir&&(e.f&pe)!==0&&e.deps}finally{Ke=l,C=n}}}async function Ar(){await Promise.resolve(),hr()}function g(e){var t=e.f,n=(t&ce)!==0;if(I!==null&&!me){var l=C!==null&&(C.f&Fe)!==0;if(!l&&!ke?.includes(e)){var a=I.deps;if((I.f&Ft)!==0)e.rv<ct&&(e.rv=ct,ae===null&&a!==null&&a[se]===e?se++:ae===null?ae=[e]:(!Ae||!ae.includes(e))&&ae.push(e));else{(I.deps??=[]).push(e);var r=e.reactions;r===null?e.reactions=[I]:r.includes(I)||r.push(I)}}}else if(n&&e.deps===null&&e.effects===null){var i=e,s=i.parent;s!==null&&(s.f&de)===0&&(i.f^=de)}if(Be){if(Le.has(e))return Le.get(e);if(n){i=e;var o=i.v;return((i.f&te)===0&&i.reactions!==null||va(i))&&(o=un(i)),Le.set(i,o),o}}else if(n){if(i=e,Je?.has(i))return Je.get(i);_t(i)&&Un(i)}if((e.f&Re)!==0)throw e.v;return e.v}function va(e){if(e.v===Q)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(Le.has(t)||(t.f&ce)!==0&&va(t))return!0;return!1}function S(e){var t=me;try{return me=!0,e()}finally{me=t}}const Lr=-7169;function le(e,t){e.f=e.f&Lr|t}function z(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Ce in e)Yt(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&Ce in n&&Yt(n)}}}function Yt(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let l in e)try{Yt(e[l],t)}catch{}const n=Zt(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const l=Nn(n);for(let a in l){const r=l[a].get;if(r)try{r.call(e)}catch{}}}}}const Nr=["touchstart","touchmove"];function Or(e){return Nr.includes(e)}const Rr=new Set,kn=new Set;function Cr(e,t,n,l={}){function a(r){if(l.capture||it.call(t,r),!r.cancelBubble)return fn(()=>n?.call(this,r))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?sn(()=>{t.addEventListener(e,a,l)}):t.addEventListener(e,a,l),a}function T(e,t,n,l,a){var r={capture:l,passive:a},i=Cr(e,t,n,r);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&Qn(()=>{t.removeEventListener(e,i,r)})}let En=null;function it(e){var t=this,n=t.ownerDocument,l=e.type,a=e.composedPath?.()||[],r=a[0]||e.target;En=e;var i=0,s=En===e&&e.__root;if(s){var o=a.indexOf(s);if(o!==-1&&(t===document||t===window)){e.__root=t;return}var u=a.indexOf(t);if(u===-1)return;o<=u&&(i=o)}if(r=a[i]||e.target,r!==t){yt(e,"currentTarget",{configurable:!0,get(){return r||n}});var f=I,p=C;be(null),Ne(null);try{for(var c,d=[];r!==null;){var v=r.assignedSlot||r.parentNode||r.host||null;try{var h=r["__"+l];if(h!=null&&(!r.disabled||e.target===r))if(xt(h)){var[y,...m]=h;y.apply(r,[e,...m])}else h.call(r,e)}catch(b){c?d.push(b):c=b}if(e.cancelBubble||v===t||v===null)break;r=v}if(c){for(let b of d)queueMicrotask(()=>{throw b});throw c}}finally{e.__root=t,delete e.currentTarget,be(f),Ne(p)}}}function Ir(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Vt(e,t){var n=C;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function x(e,t){var n=(t&nr)!==0,l=(t&ar)!==0,a,r=!e.startsWith("<!>");return()=>{a===void 0&&(a=Ir(r?e:"<!>"+e),n||(a=Et(a)));var i=l||Gn?document.importNode(a,!0):a.cloneNode(!0);if(n){var s=Et(i),o=i.lastChild;Vt(s,o)}else Vt(i,i);return i}}function fe(){var e=document.createDocumentFragment(),t=document.createComment(""),n=pt();return e.append(t,n),Vt(t,n),e}function w(e,t){e!==null&&e.before(t)}function Z(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function da(e,t){return Dr(e,t)}const He=new Map;function Dr(e,{target:t,anchor:n,props:l={},events:a,context:r,intro:i=!0}){yr();var s=new Set,o=p=>{for(var c=0;c<p.length;c++){var d=p[c];if(!s.has(d)){s.add(d);var v=Or(d);t.addEventListener(d,it,{passive:v});var h=He.get(d);h===void 0?(document.addEventListener(d,it,{passive:v}),He.set(d,1)):He.set(d,h+1)}}};o(Xt(Rr)),kn.add(o);var u=void 0,f=kr(()=>{var p=n??t.appendChild(pt());return ft(()=>{if(r){D({});var c=K;c.c=r}a&&(l.$$events=a),u=e(p,l)||{},r&&q()}),()=>{for(var c of s){t.removeEventListener(c,it);var d=He.get(c);--d===0?(document.removeEventListener(c,it),He.delete(c)):He.set(c,d)}kn.delete(o),p!==n&&p.parentNode?.removeChild(p)}});return qr.set(u,f),u}let qr=new WeakMap;function W(e,t,n=!1){var l=e,a=null,r=null,i=Q,s=n?tn:0,o=!1;const u=(d,v=!0)=>{o=!0,c(v,d)};var f=null;function p(){f!==null&&(f.lastChild.remove(),l.before(f),f=null);var d=i?a:r,v=i?r:a;d&&pn(d),v&&vn(v,()=>{i?r=null:a=null})}const c=(d,v)=>{if(i!==(i=d)){var h=Xn(),y=l;if(h&&(f=document.createDocumentFragment(),f.append(y=pt())),i?a??=v&&ft(()=>v(y)):r??=v&&ft(()=>v(y)),h){var m=ee,b=i?a:r,$=i?r:a;b&&m.skipped_effects.delete(b),$&&m.skipped_effects.add($),m.add_callback(p)}else p()}};ta(()=>{o=!1,t(u),o||c(null,null)},s)}function Ot(e,t){return t}function jr(e,t,n){for(var l=e.items,a=[],r=t.length,i=0;i<r;i++)dn(t[i].e,a,!0);var s=r>0&&a.length===0&&n!==null;if(s){var o=n.parentNode;br(o),o.append(n),l.clear(),he(e,t[0].prev,t[r-1].next)}la(a,()=>{for(var u=0;u<r;u++){var f=t[u];s||(l.delete(f.k),he(e,f.prev,f.next)),Ee(f.e,!s)}})}function Rt(e,t,n,l,a,r=null){var i=e,s={flags:t,items:new Map,first:null},o=(t&In)!==0;if(o){var u=e;i=u.appendChild(pt())}var f=null,p=!1,c=new Map,d=At(()=>{var m=n();return xt(m)?m:m==null?[]:Xt(m)}),v,h;function y(){zr(h,v,s,c,i,a,t,l,n),r!==null&&(v.length===0?f?pn(f):f=ft(()=>r(i)):f!==null&&vn(f,()=>{f=null}))}ta(()=>{h??=C,v=g(d);var m=v.length;if(!(p&&m===0)){p=m===0;var b,$,P,k;if(Xn()){var M=new Set,N=ee;for($=0;$<m;$+=1){P=v[$],k=l(P,$);var L=s.items.get(k)??c.get(k);L?(t&(Tt|Mt))!==0&&pa(L,P,$,t):(b=_a(null,s,null,null,P,k,$,a,t,n,!0),c.set(k,b)),M.add(k)}for(const[V,O]of s.items)M.has(V)||N.skipped_effects.add(O.e);N.add_callback(y)}else y();g(d)}})}function zr(e,t,n,l,a,r,i,s,o){var u=(i&Ka)!==0,f=(i&(Tt|Mt))!==0,p=t.length,c=n.items,d=n.first,v=d,h,y=null,m,b=[],$=[],P,k,M,N;if(u)for(N=0;N<p;N+=1)P=t[N],k=s(P,N),M=c.get(k),M!==void 0&&(M.a?.measure(),(m??=new Set).add(M));for(N=0;N<p;N+=1){if(P=t[N],k=s(P,N),M=c.get(k),M===void 0){var L=l.get(k);if(L!==void 0){l.delete(k),c.set(k,L);var V=y?y.next:v;he(n,y,L),he(n,L,V),jt(L,V,a),y=L}else{var O=v?v.e.nodes_start:a;y=_a(O,n,y,y===null?n.first:y.next,P,k,N,r,i,o)}c.set(k,y),b=[],$=[],v=y.next;continue}if(f&&pa(M,P,N,i),(M.e.f&ge)!==0&&(pn(M.e),u&&(M.a?.unfix(),(m??=new Set).delete(M))),M!==v){if(h!==void 0&&h.has(M)){if(b.length<$.length){var ne=$[0],ie;y=ne.prev;var Ue=b[0],$e=b[b.length-1];for(ie=0;ie<b.length;ie+=1)jt(b[ie],ne,a);for(ie=0;ie<$.length;ie+=1)h.delete($[ie]);he(n,Ue.prev,$e.next),he(n,y,Ue),he(n,$e,ne),v=ne,y=$e,N-=1,b=[],$=[]}else h.delete(M),jt(M,v,a),he(n,M.prev,M.next),he(n,M,y===null?n.first:y.next),he(n,y,M),y=M;continue}for(b=[],$=[];v!==null&&v.k!==k;)(v.e.f&ge)===0&&(h??=new Set).add(v),$.push(v),v=v.next;if(v===null)continue;M=v}b.push(M),y=M,v=M.next}if(v!==null||h!==void 0){for(var Te=h===void 0?[]:Xt(h);v!==null;)(v.e.f&ge)===0&&Te.push(v),v=v.next;var rt=Te.length;if(rt>0){var Ma=(i&In)!==0&&p===0?a:null;if(u){for(N=0;N<rt;N+=1)Te[N].a?.measure();for(N=0;N<rt;N+=1)Te[N].a?.fix()}jr(n,Te,Ma)}}u&&sn(()=>{if(m!==void 0)for(M of m)M.a?.apply()}),e.first=n.first&&n.first.e,e.last=y&&y.e;for(var Aa of l.values())Ee(Aa.e);l.clear()}function pa(e,t,n,l){(l&Tt)!==0&&ut(e.v,t),(l&Mt)!==0?ut(e.i,n):e.i=n}function _a(e,t,n,l,a,r,i,s,o,u,f){var p=(o&Tt)!==0,c=(o&Ja)===0,d=p?c?U(a,!1,!1):ot(a):a,v=(o&Mt)===0?i:ot(i),h={i:v,v:d,k:r,a:null,e:null,prev:n,next:l};try{if(e===null){var y=document.createDocumentFragment();y.append(e=pt())}return h.e=ft(()=>s(e,d,v,u),lr),h.e.prev=n&&n.e,h.e.next=l&&l.e,n===null?f||(t.first=h):(n.next=h,n.e.next=h.e),l!==null&&(l.prev=h,l.e.prev=h.e),h}finally{}}function jt(e,t,n){for(var l=e.next?e.next.e.nodes_start:n,a=t?t.e.nodes_start:n,r=e.e.nodes_start;r!==null&&r!==l;){var i=Nt(r);a.before(r),r=i}}function he(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function Fr(e,t,n,l,a){var r=t.$$slots?.[n],i=!1;r===!0&&(r=t.children,i=!0),r===void 0||r(e,i?()=>l:l)}function ga(e){var t,n,l="";if(typeof e=="string"||typeof e=="number")l+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=ga(e[t]))&&(l&&(l+=" "),l+=n)}else for(n in e)e[n]&&(l&&(l+=" "),l+=n);return l}function Br(){for(var e,t,n=0,l="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=ga(e))&&(l&&(l+=" "),l+=t);return l}function ha(e){return typeof e=="object"?Br(e):e??""}const Sn=[...` 	
\r\f \v\uFEFF`];function Ur(e,t,n){var l=e==null?"":""+e;if(t&&(l=l?l+" "+t:t),n){for(var a in n)if(n[a])l=l?l+" "+a:a;else if(l.length)for(var r=a.length,i=0;(i=l.indexOf(a,i))>=0;){var s=i+r;(i===0||Sn.includes(l[i-1]))&&(s===l.length||Sn.includes(l[s]))?l=(i===0?"":l.substring(0,i))+l.substring(s+1):i=s}}return l===""?null:l}function Hr(e,t){return e==null?null:String(e)}function Qe(e,t,n,l,a,r){var i=e.__className;if(i!==n||i===void 0){var s=Ur(n,l,r);s==null?e.removeAttribute("class"):e.className=s,e.__className=n}else if(r&&a!==r)for(var o in r){var u=!!r[o];(a==null||u!==!!a[o])&&e.classList.toggle(o,u)}return r}function ue(e,t,n,l){var a=e.__style;if(a!==t){var r=Hr(t);r==null?e.removeAttribute("style"):e.style.cssText=r,e.__style=t}return l}const Wr=Symbol("is custom element"),Yr=Symbol("is html");function ma(e,t){var n=ya(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function _e(e,t,n,l){var a=ya(e);a[t]!==(a[t]=n)&&(t==="loading"&&(e[qa]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Vr(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function ya(e){return e.__attributes??={[Wr]:e.nodeName.includes("-"),[Yr]:e.namespaceURI===rr}}var xn=new Map;function Vr(e){var t=xn.get(e.nodeName);if(t)return t;xn.set(e.nodeName,t=[]);for(var n,l=e,a=Element.prototype;a!==l;){n=Nn(l);for(var r in n)n[r].set&&t.push(r);l=Zt(l)}return t}function Pn(e,t){return e===t||e?.[Ce]===t}function et(e={},t,n,l){return Er(()=>{var a,r;return cn(()=>{a=r,r=[],S(()=>{e!==n(...r)&&(t(e,...r),a&&Pn(n(...a),e)&&t(null,...a))})}),()=>{sn(()=>{r&&Pn(n(...r),e)&&t(null,...r)})}}),e}function Gt(e){return function(...t){var n=t[0];return n.stopPropagation(),e?.apply(this,t)}}function j(e=!1){const t=K,n=t.l.u;if(!n)return;let l=()=>z(t.s);if(e){let a=0,r={};const i=dt(()=>{let s=!1;const o=t.s;for(const u in o)o[u]!==r[u]&&(r[u]=o[u],s=!0);return s&&a++,a});l=()=>g(i)}n.b.length&&$r(()=>{Tn(t,l),bt(n.b)}),Wt(()=>{const a=S(()=>n.m.map(Ra));return()=>{for(const r of a)typeof r=="function"&&r()}}),n.a.length&&Wt(()=>{Tn(t,l),bt(n.a)})}function Tn(e,t){if(e.l.s)for(const n of e.l.s)g(n);t()}function ba(e,t){var n=e.$$events?.[t.type],l=xt(n)?n.slice():n==null?[]:[n];for(var a of l)a.call(this,t)}function wa(e,t,n){if(e==null)return t(void 0),Ge;const l=S(()=>e.subscribe(t,n));return l.unsubscribe?()=>l.unsubscribe():l}const We=[];function Gr(e,t=Ge){let n=null;const l=new Set;function a(s){if(qn(e,s)&&(e=s,n)){const o=!We.length;for(const u of l)u[1](),We.push(u,e);if(o){for(let u=0;u<We.length;u+=2)We[u][0](We[u+1]);We.length=0}}}function r(s){a(s(e))}function i(s,o=Ge){const u=[s,o];return l.add(u),l.size===1&&(n=t(a,r)||Ge),s(e),()=>{l.delete(u),l.size===0&&n&&(n(),n=null)}}return{set:a,update:r,subscribe:i}}function X(e){let t;return wa(e,n=>t=n)(),t}let ht=!1,Kt=Symbol();function Y(e,t,n){const l=n[t]??={store:null,source:U(void 0),unsubscribe:Ge};if(l.store!==e&&!(Kt in n))if(l.unsubscribe(),l.store=e??null,e==null)l.source.v=void 0,l.unsubscribe=Ge;else{var a=!0;l.unsubscribe=wa(e,r=>{a?l.source.v=r:A(l.source,r)}),a=!1}return e&&Kt in n?X(e):g(l.source)}function G(){const e={};function t(){Qn(()=>{for(var n in e)e[n].unsubscribe();yt(e,Kt,{enumerable:!1,value:!0})})}return[e,t]}function tt(e,t,n){return e.set(n),t}function Kr(e){var t=ht;try{return ht=!1,[e(),ht]}finally{ht=t}}function J(e,t,n,l){var a=!at||(n&Za)!==0,r=(n&er)!==0,i=(n&tr)!==0,s=l,o=!0,u=()=>(o&&(o=!1,s=i?S(l):l),s),f;if(r){var p=Ce in e||Da in e;f=Ve(e,t)?.set??(p&&t in e?$=>e[t]=$:void 0)}var c,d=!1;r?[c,d]=Kr(()=>e[t]):c=e[t];var v;if(a?v=()=>{var $=e[t];return $===void 0?u():(o=!0,$)}:v=()=>{var $=e[t];return $!==void 0&&(s=void 0),$===void 0?s:$},a&&(n&Qa)===0)return v;if(f){var h=e.$$legacy;return(function($,P){return arguments.length>0?((!a||!P||h||d)&&f(P?v():$),$):v()})}var y=!1,m=((n&Xa)!==0?dt:At)(()=>(y=!1,v()));r&&g(m);var b=C;return(function($,P){if(arguments.length>0){const k=P?g(m):a&&r?Ye($):$;return A(m,k),y=!0,s!==void 0&&(s=k),$}return Be&&y||(b.f&Fe)!==0?m.v:g(m)})}function Jr(e){K===null&&za(),at&&K.l!==null?Xr(K).m.push(e):Wt(()=>{const t=S(e);if(typeof t=="function")return t})}function Xr(e){var t=e.l;return t.u??={a:[],b:[],m:[]}}const Zr="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Zr);sr();function Ct(e,t,n=[]){let l=localStorage.getItem(e),a=t;if(l)try{const i=JSON.parse(l);a={...t,...i}}catch{}const r=Gr(a);return r.subscribe(i=>{let s;typeof i=="object"&&i!==null?(s={...i},n.forEach(o=>delete s[o])):s=i,localStorage.setItem(e,JSON.stringify(s))}),r}const B=Ct("globals",{liked:[],modal:{display:!1,data:{}},pip_window:null,playlists:{liked_songs:{title:"Liked Songs",user_generated:!1,songs:[],id:"liked_songs"}}},["pip_window","modal"]),R=Ct("song",{url:"",title:"",upload_date:"",author:{},img:{small:"",big:""},volume:1,playing:!1,ref:null,repeat:0,duration:0,currentTime:0,autoplay:!1,playlist_data:[],formatted:{}},["ref","playing","autoplay"]),oe=Ct("search",{query:null,loading:!1,results:[],pageLimit:25,totalResults:0,offset:0},["loading"]),je=Ct("page",{value:"home",data:{}});var Qr=x('<span class="svelte-3kdm3h"></span>');function el(e){var t=Qr();w(e,t)}async function Jt(e,t=0){let n=X(oe).offset;if(n+t<0)return;const l=n+t;oe.update(s=>({...s,loading:!0}));let r=await(await fetch(`/api/search?query=${e}&offset=${l}&limit=${X(oe).pageLimit}`)).json();if(r.collection.length==0){oe.update(s=>({...s,loading:!1}));return}oe.update(s=>({...s,results:null}));let i=X(oe).query;oe.update(s=>({...s,results:r.collection,totalResults:r.total_results,loading:!1,offset:l,query:e})),i!=e&&oe.update(s=>({...s,offset:0})),je.update(s=>({value:"search"}))}var tl=x('<form class="svelte-ihdyk8"><input name="query" placeholder="Search" autocomplete="off" class="svelte-ihdyk8"/> <i class="fas fa-search svelte-ihdyk8"></i></form>');function nl(e,t){D(t,!1);const[n,l]=G(),a=()=>Y(oe,"$search",n);async function r(o){o.preventDefault();const u=new FormData(o.target);Jt(u.get("query"))}j();var i=tl(),s=_(i);H(()=>ma(s,a().query)),T("submit",i,()=>{r(event)}),w(e,i),q(),l()}var al=x('<div role="none"><button class="svelte-qppwpp"> </button></div>');function zt(e,t){D(t,!1);const[n,l]=G(),a=()=>Y(je,"$page",n);let r=J(t,"title",8),i=J(t,"link",8);j();var s=al(),o=_(s),u=_(o);H(()=>{Qe(s,1,ha((a(),z(i()),S(()=>a().value==i()?"active":""))),"svelte-qppwpp"),Z(u,r())}),T("click",s,()=>{je.update(f=>({...f,value:i()}))}),w(e,s),q(),l()}var rl=x('<main class="svelte-kelaby"><div class="main-holder svelte-kelaby"><!> <!> <!> <!> <!></div></main>');function ll(e){var t=rl(),n=_(t),l=_(n);el(l);var a=E(l,2);zt(a,{title:"Home",link:"home"});var r=E(a,2);zt(r,{title:"Search",link:"search"});var i=E(r,2);zt(i,{title:"Playlists",link:"playlists"});var s=E(i,2);nl(s,{}),w(e,t)}const F={async play(e,t){e&&(R.update(n=>({...n,src:e?.song?.src||e.src,img:e?.song?.img||e.img,url:e?.song?.url||e.url,title:e?.song?.name||e.title,author:e?.author||n.author,upload_date:e?.song?.upload_date||n.upload_date,autoplay:!0,playlist_data:t??n.playlist_data,formatted:e})),F.start())},async start(){try{await X(R).ref.play()}catch{}},async stop(){X(R).ref.pause()},skip(e,t){const n=X(R).ref;n&&(t==="forward"?n.currentTime+=e:n.currentTime-=e)},async next(){await Ar();const e=X(R);e.repeat;const t=e.playlist_data;if(t){const i=X(B)?.playlists[t[0]],s=t[1]+1,o=i?.songs[s];if(o){await F.play(o,[i.id,s]);return}else R.update(u=>({...u,playlist_data:null}))}const l=await(await fetch(`/api/get-related?track_url=${e.url}`)).json(),a=Object.keys(l);if(!a.length){F.start();return}const r=l[a[Math.floor(Math.random()*a.length)]];await F.play(r,null)},previous(){const e=X(R).ref;e&&(e.currentTime=0)},toggleLoop(){const e=X(R).repeat,t=e===2?0:e+1;R.update(n=>({...n,repeat:t}))}};var il=x('<button aria-label="Play"><i class="fa-solid fa-fw fa-circle-pause"></i></button>'),sl=x('<button aria-label="Play"><i class="fa-solid fa-fw fa-circle-play"></i></button>'),ol=x('<button aria-label="Play"><i class="fa-solid fa-fw fa-circle-pause"></i></button>'),ul=x('<button aria-label="Play"><i class="fa-solid fa-fw fa-circle-play"></i></button>'),fl=x('<div class="svelte-1y9uecc"><!></div>');function $a(e,t){D(t,!1);const[n,l]=G(),a=()=>Y(R,"$song",n);let r=J(t,"data",8),i=J(t,"size",8),s=J(t,"playlist_data",8);j();var o=fl(),u=_(o);{var f=c=>{var d=fe(),v=re(d);{var h=m=>{var b=il(),$=_(b);H(()=>ue($,`font-size: ${i()??""};`)),T("click",b,()=>{F.stop(a().ref)}),w(m,b)},y=m=>{var b=sl(),$=_(b);H(()=>ue($,`font-size: ${i()??""};`)),T("click",b,()=>{a().url!==r().song.url&&(s()?F.play(r(),s()):F.play(r())),F.start(a().ref)}),w(m,b)};W(v,m=>{a(),z(r()),z(s()),S(()=>a().url==r().song?.url&&a().playing&&a().playlist_data[1]==s()[1])?m(h):m(y,!1)})}w(c,d)},p=c=>{var d=fe(),v=re(d);{var h=m=>{var b=ol(),$=_(b);H(()=>ue($,`font-size: ${i()??""};`)),T("click",b,()=>{F.stop(a().ref)}),w(m,b)},y=m=>{var b=ul(),$=_(b);H(()=>ue($,`font-size: ${i()??""};`)),T("click",b,()=>{a().url!==r().song.url&&(s()?F.play(r(),s()):F.play(r())),F.start(a().ref)}),w(m,b)};W(v,m=>{a(),z(r()),S(()=>a().url==r().song?.url&&a().playing&&r().song?.url)?m(h):m(y,!1)},!0)}w(c,d)};W(u,c=>{z(s()),S(()=>s()?.length==2)?c(f):c(p,!1)})}w(e,o),q(),l()}var cl=x('<i role="none" class="fa-solid fa-heart icon-mid tooltip" data-title="Dislike this song"></i>'),vl=x('<i role="none" class="fa-solid fa-heart icon-mid tooltip" data-title="Like this song"></i>');function It(e,t){D(t,!1);const[n,l]=G(),a=()=>Y(B,"$globals",n),r=U();let i=J(t,"item",8);function s(){let c=[...a().liked];g(r)?c=c.filter(d=>d.song.url!==i().song.url):c.push(i()),B.update(d=>({...d,liked:c}))}ye(()=>(a(),z(i())),()=>{A(r,a().liked.some(c=>c.song?.url===i().song?.url))}),Pe(),j();var o=fe(),u=re(o);{var f=c=>{var d=cl();H(()=>ue(d,g(r)?"color:var(--accent-color);":"")),T("click",d,function(...v){(i().song?.url?s:null)?.apply(this,v)}),w(c,d)},p=c=>{var d=vl();H(()=>ue(d,g(r)?"color:var(--accent-color);":"")),T("click",d,function(...v){(i().song?.url?s:null)?.apply(this,v)}),w(c,d)};W(u,c=>{g(r)?c(f):c(p,!1)})}w(e,o),q(),l()}function gt(e,t){B.update(n=>({...n,modal:{display:e,data:t}}))}function ka(){B.update(e=>({...e,modal:{}}))}var dl=x('<sub class="block svelte-opcwgg"> </sub>'),pl=x('<div role="none"><sub class="block svelte-opcwgg"> </sub> <div class="hover svelte-opcwgg"><!> <!> <i role="none" class="fa-solid fa-trash-can svelte-opcwgg"></i></div> <div class="card-names svelte-opcwgg"><p class="card-title svelte-opcwgg"> </p> <sub class="svelte-opcwgg"> </sub></div> <img role="none" class="img svelte-opcwgg"/> <!></div>');function Ea(e,t){D(t,!1);const[n,l]=G(),a=()=>Y(R,"$song",n);let r=J(t,"data",12),i=J(t,"playlist_data",12),s=J(t,"index",8),o=U(),u=U();function f(){const v=i()[0],h=i()[1],y=X(B).playlists[v].songs.slice();y.splice(h,1),B.update(m=>({...m,playlists:{...m.playlists,[v]:{...m.playlists[v],songs:y}}})),r(X(B).playlists[v])}ye(()=>(z(i()),z(s())),()=>{i()&&(i(i()[1]=s(),!0),A(o,i()[0]),A(u,i()[1]))}),Pe(),j();var p=fe(),c=re(p);{var d=v=>{var h=pl(),y=_(h),m=_(y),b=E(y,2),$=_(b);It($,{get item(){return r()}});var P=E($,2);$a(P,{size:"var(--icon-mid)",get data(){return r()},get playlist_data(){return i()}});var k=E(P,2),M=E(b,2),N=_(M),L=_(N),V=E(N,2),O=_(V),ne=E(M,2),ie=E(ne,2);{var Ue=$e=>{var Te=dl(),rt=_(Te);H(()=>Z(rt,(z(i()),S(()=>i()[1]+1)))),w($e,Te)};W(ie,$e=>{i()&&$e(Ue)})}H($e=>{Qe(h,1,`holder ${a(),z(r()),z(i()),S(()=>a().url==r().song?.url&&a().playing&&a().playlist_data[1]==i()[1]?"active":"")??""}`,"svelte-opcwgg"),Z(m,$e),Z(L,(z(r()),S(()=>r().song.name||"No Song Selected"))),Z(O,(z(r()),S(()=>r().author.name||"No Song Selected"))),_e(ne,"alt",(z(r()),S(()=>r().song.title))),_e(ne,"src",(z(r()),S(()=>r().song.img.small||"./empty.png")))},[()=>(z(r()),S(()=>r().song.duration?.hours?r().song.duration?.hours+":":""+r().song.duration?.minutes+":"+String(r().song.duration?.seconds).padStart(2,"0")))]),T("click",k,f),T("click",ne,()=>gt("song-popup",r())),w(v,h)};W(c,v=>{z(r()),S(()=>r().song)&&v(d)})}w(e,p),q(),l()}var _l=x(`<div class="body-content svelte-1kllikg"><h3>Argon release :D</h3> <p>Search for a song to begin!</p> <br/> <p>This is literally my first svelte project, i probably could've released this a few weeks sooner if i just made it in vanilla html ðŸ˜­</p> <p>^ expect shi<span>tty</span> code ðŸ˜Š, also im bad at css.</p> <br/> <p>yes ik this is half baked, like i said its my first svelte project, and i made basically every beginner mistake T-T</p> <br/> <p>All apis from Soundcloud</p> <br/> <p>Made by: <a href="https://github.com/jobidev" target="_blank">JobiDev</a></p> <p>Join the discord! <a href="https://discord.com/invite/nX6sWSa9HE" target="_blank">here</a></p></div>`);function gl(e){var t=_l();w(e,t)}var hl=x('<div role="none" class="wrapper svelte-2ux8ih"><img loading="lazy"/> <img loading="lazy"/></div>');function Dt(e,t){D(t,!1);let n=J(t,"data",8),l=U(!1),a=n()?.song?.img?.small,r=n()?.song?.img?.big;j();var i=hl(),s=_(i);let o;var u=E(s,2);let f;H((p,c)=>{o=Qe(s,1,"preview svelte-2ux8ih",null,o,p),_e(s,"src",a||"./empty.png"),_e(s,"alt",(z(n()),S(()=>n()?.song?.name))),f=Qe(u,1,"big svelte-2ux8ih",null,f,c),_e(u,"src",r||"./empty.png"),_e(u,"alt",(z(n()),S(()=>n()?.song?.name)))},[()=>({loaded:g(l)}),()=>({loaded:g(l)})]),T("load",u,()=>A(l,!0)),T("click",i,()=>gt("song-popup",n())),w(e,i),q()}var ml=x('<i role="none" data-title="Open Menu" class="fa-solid fa-ellipsis-vertical svelte-1men1bp"></i>');function Sa(e,t){D(t,!1);let n=J(t,"item",8);j();var l=ml();T("click",l,()=>gt("edit-song",n())),w(e,l),q()}var yl=x('<main role="none" class="svelte-1uisg1v"><div class="left svelte-1uisg1v" role="none"><!></div> <div class="holder svelte-1uisg1v"><div class="top svelte-1uisg1v"><div style="display: flex; width:100%; height:100%;" class="svelte-1uisg1v"><div role="none" class="playpause svelte-1uisg1v"><!></div> <div class="svelte-1uisg1v"><p class="svelte-1uisg1v"> </p> <sub class="svelte-1uisg1v"> </sub></div> <div class="like svelte-1uisg1v"><!> <!></div></div></div></div> <sub class="date svelte-1uisg1v"> </sub></main>');function bl(e,t){D(t,!1);let n=J(t,"result",8);const l=new Date(n().song.upload_date),r=Math.round((new Date-l)/(1e3*60*60*24)),i=Math.floor(r/30),s=Math.floor(r/365);function o(){F.play(n())}j();var u=yl(),f=_(u),p=_(f);Dt(p,{get data(){return n()},style:"img-holder"});var c=E(f,2),d=_(c),v=_(d),h=_(v),y=_(h);$a(y,{size:"40px",get data(){return n()}});var m=E(h,2),b=_(m),$=_(b),P=E(b,2),k=_(P),M=E(m,2),N=_(M);It(N,{get item(){return n()}});var L=E(N,2);Sa(L,{get item(){return n()}});var V=E(c,2),O=_(V);H(()=>{Z($,(z(n()),S(()=>n().song.name))),Z(k,(z(n()),S(()=>n().author.name))),Z(O,s>0?s==1?s+" year ago":s+" years ago":i>0?i==1?i+" month ago":i+" months ago":r==1?r+" day ago":r+" days ago")}),T("click",h,o),w(e,u),q()}var wl=x('<i role="none"></i>');function Mn(e,t){D(t,!1);const[n,l]=G(),a=()=>Y(oe,"$search",n);let r=J(t,"direction",8);async function i(){Jt(a().query,a().pageLimit)}async function s(){X(oe).offset-X(oe).pageLimit>=0&&Jt(a().query,a().pageLimit*-1)}j();var o=wl();H(()=>Qe(o,1,ha(r()=="forward"?"fa-solid fa-square-chevron-right":"fa-solid fa-square-chevron-left"),"svelte-8b6mhs")),T("click",o,function(...u){(r()=="forward"?i:s)?.apply(this,u)}),w(e,o),q(),l()}var $l=x('<div class="bottom svelte-11nkdh"><p> </p> <div style="padding-top:5px;"><!> <!></div></div>'),kl=x('<div class="body-content"><!> <!></div>');function El(e,t){D(t,!1);const[n,l]=G(),a=()=>Y(oe,"$search",n);j();var r=kl(),i=_(r);{var s=f=>{var p=fe(),c=re(p);Rt(c,1,()=>a().results.filter(d=>d!=null),Ot,(d,v)=>{bl(d,{get result(){return g(v)}})}),w(f,p)};W(i,f=>{!a().loading&&a().results&&f(s)})}var o=E(i,2);{var u=f=>{var p=$l(),c=_(p),d=_(c),v=E(c,2),h=_(v);Mn(h,{direction:"Backward"});var y=E(h,2);Mn(y,{direction:"forward"}),H(()=>Z(d,`Showing results ${a().offset+1} - ${(a().offset+a().pageLimit>a().totalResults?a().totalResults:a().offset+a().pageLimit)??""} of
                ${a().totalResults??""}`)),w(f,p)};W(o,f=>{a().loading||f(u)})}w(e,r),q(),l()}var Sl=x('<div style="flex-grow:1; display:flex; justify-content:flex-end;"><i role="none" class="fa-solid fa-trash-can svelte-1whnp7a"></i></div>'),xl=x('<div class="holder svelte-1whnp7a" role="none"><div class="img-holder svelte-1whnp7a" role="none"><!></div> <div class="title svelte-1whnp7a"><p> </p> <sub> </sub></div> <!></div>');function xa(e,t){D(t,!1);let n=J(t,"item",8),l=J(t,"addToPlaylist",8),a=n().songs[n().songs.length-1];function r(){if(window.confirm('Are you sure you want to delete the playlist "'+n().title+'" ?')){let m=X(B).playlists;delete m[n().id],B.update(b=>({...b,playlists:m}))}}function i(){l()?(B.update(m=>({...m,playlists:{...m.playlists,[n().id]:{...m.playlists[n().id],songs:[...m.playlists[n().id].songs,l()]}}})),ka()):je.update(()=>({value:"playlist",data:n()}))}j();var s=xl(),o=_(s),u=_(o);Dt(u,{get data(){return a}});var f=E(o,2),p=_(f),c=_(p),d=E(p,2),v=_(d),h=E(f,2);{var y=m=>{var b=Sl(),$=_(b);T("click",$,Gt(r)),w(m,b)};W(h,m=>{z(n()),S(()=>n().user_generated)&&m(y)})}H(()=>{Z(c,(z(n()),S(()=>n().title))),Z(v,`${z(n()),S(()=>n().songs.length)??""} Songs`)}),T("click",o,Gt(function(m){ba.call(this,t,m)})),T("click",s,i),w(e,s),q()}var Pl=x('<div class="body-content svelte-69rldc"><h2>Playlists</h2> <p>right click a song to add it to a playlist!</p> <br/> <button class="svelte-69rldc">create new playlist</button> <br/> <!></div>');function Tl(e,t){D(t,!1);const[n,l]=G(),a=()=>Y(B,"$globals",n);j();var r=Pl(),i=E(_(r),6),s=E(i,4);Rt(s,1,()=>Object.entries(a().playlists),Ot,(o,u)=>{var f=on(()=>On(g(u),2));let p=()=>g(f)[1];xa(o,{get item(){return p()}})}),T("click",i,()=>gt("new-playlist","")),w(e,r),q(),l()}var Ml=x('<button aria-label="Play"><i class="fa-solid fa-fw fa-circle-pause svelte-s6iot4"></i></button>'),Al=x('<button aria-label="Play"><i class="fa-solid fa-fw fa-circle-play svelte-s6iot4"></i></button>'),Ll=x("<div><!></div>");function Nl(e,t){D(t,!1);const[n,l]=G(),a=()=>Y(R,"$song",n);let r=J(t,"id",8),i=J(t,"size",8),s=U();ye(()=>z(r()),()=>{A(s,[r(),0])}),Pe(),j();var o=Ll(),u=_(o);{var f=c=>{var d=Ml(),v=_(d);H(()=>ue(v,`font-size: ${i()??""};`)),T("click",d,()=>{F.stop(a().ref)}),w(c,d)},p=c=>{var d=Al(),v=_(d);H(()=>ue(v,`font-size: ${i()??""};`)),T("click",d,()=>{let h=X(B).playlists[r()].songs[0];!a().playlist_data||a()?.playlist_data[0]!=r()?F.play(h,g(s)):F.start(a().ref),F.start(a().ref)}),w(c,d)};W(u,c=>{a(),z(r()),S(()=>a().playlist_data!=null&&a()?.playlist_data[0]==r()&&a().playing)?c(f):c(p,!1)})}w(e,o),q(),l()}var Ol=x('<div class="body-content svelte-xuryc1"><div class="holder svelte-xuryc1"><div class="top svelte-xuryc1"><div class="img-holder svelte-xuryc1"><!></div> <div class="titles svelte-xuryc1"><div style="display: flex; height:100%; justify-content: space-between; flex-direction:column;" class="svelte-xuryc1"><input class="svelte-xuryc1"/> <sub><b>You</b> </sub></div></div> <!></div> <hr/> <!></div></div>');function Rl(e,t){D(t,!1);const[n,l]=G(),a=()=>Y(je,"$page",n),r=()=>Y(B,"$globals",n);let i=U(),s=U(),o=U(),u=U(0),f=U(0),p=U(0),c=U();function d(){g(i).value.length>=3&&B.update(O=>({...O,playlists:{...O.playlists,[a().data.id]:{...O.playlists[a().data.id],title:g(i).value}}}))}ye(()=>(a(),r(),g(s),g(u),g(f),g(p)),()=>{a().data&&r().playlists[a().data.id]&&(A(s,a().data.id),je.update(O=>({...O,data:r().playlists[g(s)]})),A(o,a().data.songs[a().data.songs.length-1]),A(u,0),A(f,0),A(p,0),A(c,a().data?.songs),a().data.songs.forEach(O=>{A(u,g(u)+O?.song.duration?.hours),A(f,g(f)+O?.song.duration?.minutes),A(p,g(p)+O?.song.duration?.seconds)}),A(f,g(f)+Math.floor(g(p)/60)),A(p,g(p)%60),A(u,g(u)+Math.floor(g(f)/60)),A(f,g(f)%60))}),Pe(),j();var v=Ol(),h=_(v),y=_(h),m=_(y),b=_(m);Dt(b,{get data(){return g(o)}});var $=E(m,2),P=_($),k=_(P);et(k,O=>A(i,O),()=>g(i));var M=E(k,2),N=E(_(M)),L=E($,2);Nl(L,{get id(){return a(),S(()=>a().data.id)},size:"30px"});var V=E(y,4);Rt(V,1,()=>(a(),S(()=>a().data.songs)),Ot,(O,ne,ie)=>{{let Ue=At(()=>(a(),S(()=>[a().data.id,ie])));Ea(O,{get data(){return g(ne)},get playlist_data(){return g(Ue)},index:ie})}}),H(()=>{k.disabled=(a(),S(()=>!a().data.user_generated)),ma(k,(a(),S(()=>a().data.title))),Z(N,` â€¢ ${g(c),S(()=>g(c).length==1?g(c).length+" Song":g(c).length+" Songs")??""}, About ${g(u)>=1?g(u)+"hr ":""}${g(f)??""} min`)}),T("keydown",k,O=>{O.key=="Enter"&&(O.preventDefault(),g(i).blur())}),T("blur",k,d),w(e,v),q(),l()}var Cl=x('<main class="svelte-k9g445"><div class="main-holder svelte-k9g445"><!></div></main>');function Il(e,t){D(t,!1);const[n,l]=G(),a=()=>Y(je,"$page",n);j();var r=Cl(),i=_(r),s=_(i);{var o=f=>{gl(f)},u=f=>{var p=fe(),c=re(p);{var d=h=>{El(h,{})},v=h=>{var y=fe(),m=re(y);{var b=P=>{Tl(P,{})},$=P=>{var k=fe(),M=re(k);{var N=L=>{Rl(L,{})};W(M,L=>{a().value=="playlist"&&L(N)},!0)}w(P,k)};W(m,P=>{a().value=="playlists"?P(b):P($,!1)},!0)}w(h,y)};W(c,h=>{a().value=="search"?h(d):h(v,!1)},!0)}w(f,p)};W(s,f=>{a().value=="home"?f(o):f(u,!1)})}w(e,r),q(),l()}var Dl=x('<div class="holder svelte-f40y2o"><div class="main-holder svelte-f40y2o"><div class="footer svelte-f40y2o"><!></div></div></div>');function ql(e,t){var n=Dl(),l=_(n),a=_(l),r=_(a);Fr(r,t,"default",{}),w(e,n)}var jl=x('<button aria-label="Pause"><i class="fa-solid fa-fw fa-circle-pause tooltip svelte-e27pdq" data-title="Pause"></i></button>'),zl=x('<button aria-label="Play"><i class="fa-solid fa-fw fa-circle-play tooltip svelte-e27pdq" data-title="Play"></i></button>'),Fl=x('<div class="svelte-e27pdq"><!></div>');function Bl(e,t){D(t,!1);const[n,l]=G(),a=()=>Y(R,"$song",n);j();var r=Fl(),i=_(r);{var s=u=>{var f=jl();T("click",f,()=>{F.stop(a().ref)}),w(u,f)},o=u=>{var f=zl();T("click",f,()=>{F.start(a().ref)}),w(u,f)};W(i,u=>{a().playing?u(s):u(o,!1)})}w(e,r),q(),l()}var Ul=x('<button aria-label="Forward"><i class="fa-solid fa-fw fa-forward-step tooltip" data-title="Next"></i></button>'),Hl=x('<button aria-label="Backward"><i class="fa-solid fa-fw fa-backward-step tooltip" data-title="Previous"></i></button>'),Wl=x('<div class="svelte-1y9uecc"><!></div>');function An(e,t){D(t,!1);let n=J(t,"amount",8),l=J(t,"type",8);j();var a=Wl(),r=_(a);{var i=o=>{var u=Ul();T("click",u,()=>{F.next()}),w(o,u)},s=o=>{var u=Hl();T("click",u,()=>{F.skip(n(),l())}),w(o,u)};W(r,o=>{l()=="forward"?o(i):o(s,!1)})}w(e,a),q()}var Yl=x('<button aria-label="Repeat"><i style="color: var(--accent-color);" class="fa-solid fa-fw fa-repeat tooltip svelte-qe42dk" data-title="Loop On"></i></button>'),Vl=x('<button aria-label="Repeat"><i style="color: var(--accent-color);" class="fa-solid fa-fw fa-repeat-1 tooltip svelte-qe42dk" data-title="Loop 1"></i></button>'),Gl=x('<button aria-label="Repeat"><i class="fa-solid fa-fw fa-repeat tooltip svelte-qe42dk" data-title="Loop Off"></i></button>'),Kl=x('<div class="svelte-qe42dk"><!></div>');function Jl(e,t){D(t,!1);const[n,l]=G(),a=()=>Y(R,"$song",n);j();var r=Kl(),i=_(r);{var s=u=>{var f=Yl();T("click",f,()=>{F.toggleLoop()}),w(u,f)},o=u=>{var f=fe(),p=re(f);{var c=v=>{var h=Vl();T("click",h,()=>{F.toggleLoop()}),w(v,h)},d=v=>{var h=Gl();T("click",h,()=>{F.toggleLoop()}),w(v,h)};W(p,v=>{a().repeat==1?v(c):v(d,!1)},!0)}w(u,f)};W(i,u=>{a().repeat==2?u(s):u(o,!1)})}w(e,r),q(),l()}var Xl=x('<main class="svelte-1jhpv6y"><button aria-label="Download"><i style="font-size: var(--icon-small);" class="fa-solid fa-arrow-down-to-line tooltip" data-title="Download"></i></button></main>');function Zl(e,t){D(t,!1);const[n,l]=G(),a=()=>Y(R,"$song",n);function r(){if(!a().url)return;let u=`/api/download?track_url=${a().url}`;const f=document.createElement("a");f.download=a().title,f.href=u,document.body.appendChild(f),f.click(),document.body.removeChild(f)}j();var i=Xl(),s=_(i);T("click",s,r),w(e,i),q(),l()}var Ql=x('<div class="svelte-3pfdl6"><!> <!> <!> <!> <!></div>');function ei(e){var t=Ql(),n=_(t);Zl(n,{});var l=E(n,2);An(l,{amount:5,type:"backward"});var a=E(l,2);Bl(a,{});var r=E(a,2);An(r,{amount:5,type:"forward"});var i=E(r,2);Jl(i,{}),w(e,t)}function Pa(e){ei(e)}var ti=x('<main role="none" class="svelte-1x8gv4l"><sub class="current-time svelte-1x8gv4l"> </sub> <div role="none" class="bar-holder svelte-1x8gv4l"><div class="bar svelte-1x8gv4l"><div class="bar-accent svelte-1x8gv4l"></div> <div class="head svelte-1x8gv4l" role="none"></div></div></div> <sub class="current-time svelte-1x8gv4l"> </sub></main>');function Ta(e,t){D(t,!1);const[n,l]=G(),a=()=>Y(R,"$song",n),r=()=>Y(B,"$globals",n);let i=U(0),s=U(),o=U(),u=U(!1);document.addEventListener("mousemove",p),document.addEventListener("mouseup",c),window.addEventListener("resize",d);function f(L){A(u,!0),p(L)}function p(L){if(!g(u))return;const V=g(s).getBoundingClientRect();let O=L.clientX-V.left;O=Math.max(0,Math.min(O,V.width)),Ht(o,g(o).style.left=O+"px");const ne=O/V.width;A(i,ne*a().duration)}function c(){if(!g(u))return;A(u,!1);const L=g(s).getBoundingClientRect(),V=g(o).getBoundingClientRect(),O=(V.left+V.right)/2-L.left,ne=Math.max(0,Math.min(O/L.width,1));tt(R,S(a).ref.currentTime=ne*a().duration,S(a))}function d(){A(i,a().ref.currentTime);const L=g(s)?.getBoundingClientRect();L&&Ht(o,g(o).style.left=`${g(i)/a().duration*L.width}px`)}function v(L){const V=Math.floor(L/60),O=Math.floor(L%60);return`${V}:${O.toString().padStart(2,"0")}`}ye(()=>(a(),g(u)),()=>{a().ref&&!g(u)&&d()}),ye(()=>r(),()=>{r().pip_window&&(r().pip_window.document.addEventListener("mousemove",p),r().pip_window.document.addEventListener("mouseup",c),r().pip_window.addEventListener("resize",d))}),Pe(),j();var h=ti(),y=_(h),m=_(y),b=E(y,2),$=_(b),P=_($),k=E(P,2);et(k,L=>A(o,L),()=>g(o)),et($,L=>A(s,L),()=>g(s));var M=E(b,2),N=_(M);H((L,V)=>{Z(m,L),ue(P,`width: ${g(i),a(),S(()=>g(i)/a().duration*100)??""}%`),Z(N,V)},[()=>(g(i),S(()=>v(g(i)))),()=>(a(),S(()=>v(a().duration)))]),T("mousedown",h,f),w(e,h),q(),l()}var ni=x('<div class="holder svelte-epjxzk"><div style="height: 100%; aspect-ratio:1; display:flex;justify-content:center;align-items:center;"><img class="img svelte-epjxzk" role="none"/></div> <div class="card-names svelte-epjxzk"><p class="card-title svelte-epjxzk"> </p> <sub class="svelte-epjxzk"> </sub></div> <div class="like svelte-epjxzk"><!></div></div>');function ai(e,t){D(t,!1);const[n,l]=G(),a=()=>Y(R,"$song",n);j();var r=ni(),i=_(r),s=_(i),o=E(i,2),u=_(o),f=_(u),p=E(u,2),c=_(p),d=E(o,2),v=_(d);It(v,{get item(){return a().formatted}}),H(()=>{_e(s,"alt",a().title),_e(s,"src",a().img.small||"./empty.png"),Z(f,a().title||"No Song Selected"),Z(c,a().author.name||"No Song Selected")}),T("click",s,()=>gt("song-popup",a().formatted)),w(e,r),q(),l()}var ri=x('<main class="svelte-jyh9nz"><i role="none"></i> <div class="top svelte-jyh9nz" role="none"><div class="bar svelte-jyh9nz"><div class="bar-accent svelte-jyh9nz"></div> <div class="head svelte-jyh9nz"></div></div></div></main>');function li(e,t){D(t,!1);const[n,l]=G(),a=()=>Y(R,"$song",n);let r=U(1),i=U(),s=U(),o=!1;document.addEventListener("mousemove",c),document.addEventListener("mouseup",d);let u=1;function f(){a().volume==0?tt(R,S(a).volume=u,S(a)):(tt(R,S(a).volume=0,S(a)),A(r,0))}function p(k){o=!0,c(k)}function c(k){if(!o)return;const M=g(i).getBoundingClientRect(),N=M.height;let L=k.clientY-M.top;L=Math.max(0,Math.min(L,N));let V=N-L;A(r,V/N),!isNaN(g(r))&&isFinite(g(r))&&(R.update(O=>({...O,volume:Math.round(parseFloat(g(r))*100)/100})),u=g(r))}function d(){o&&(o=!1)}ye(()=>a(),()=>{a().volume&&A(r,a().volume)}),Pe(),j();var v=ri(),h=_(v),y=on(f),m=E(h,2),b=_(m),$=_(b),P=E($,2);et(P,k=>A(s,k),()=>g(s)),et(b,k=>A(i,k),()=>g(i)),H(()=>{Qe(h,1,`fa-solid fa-fw
    ${a(),S(()=>a().volume===0?"fa-volume-mute":a().volume>.5?"fa-volume":"fa-volume-low")??""}`,"svelte-jyh9nz"),ue($,`height: ${g(r)*100}%;`),ue(P,`bottom: ${g(r)*100}%;`)}),T("click",h,function(...k){g(y)?.apply(this,k)}),T("mousedown",m,p),w(e,v),q(),l()}var ii=x('<main class="svelte-18wqar"><div class="top svelte-18wqar"><div class="overlay svelte-18wqar"></div> <img class="svelte-18wqar"/></div> <div class="bottom svelte-18wqar"><!> <!></div></main>');function si(e,t){D(t,!1);const[n,l]=G(),a=()=>Y(R,"$song",n);j();var r=ii(),i=_(r),s=E(_(i),2),o=E(i,2),u=_(o);Pa(u);var f=E(u,2);Ta(f,{}),H(()=>{ue(i,`background-image:url(${a().img.big??""});`),_e(s,"src",a().img.big),_e(s,"alt",a().title)}),w(e,r),q(),l()}var oi=x('<button aria-label="Close Miniplayer"><i class="fa-solid fa-window-maximize tooltip svelte-1g66qup" data-title="Close Miniplayer" style="color: var(--accent-color);"></i></button>'),ui=x('<button aria-label="Open Miniplayer"><i class="fa-solid fa-window-maximize tooltip svelte-1g66qup" data-title="Open Miniplayer"></i></button>'),fi=x('<div class="svelte-1g66qup"><!></div>');function ci(e,t){D(t,!1);const[n,l]=G(),a=()=>Y(B,"$globals",n);let r=null;async function i(){if(!r){try{r=await documentPictureInPicture.requestWindow({width:300,height:300,preferInitialWindowPlacement:!0,copyStyleSheets:!0})}catch{window.alert(`Open Argon in a new tab to open the miniplayer! 

 (Sorry, your browser doesnt let me if its in an iframe!)`)}B.update(d=>({...d,pip_window:r}));const c=r.document.createElement("div");r.document.body.appendChild(c),document.querySelectorAll('link[rel="stylesheet"], style').forEach(d=>{r.document.head.appendChild(d.cloneNode(!0))}),da(si,{target:c}),r.addEventListener("unload",()=>{B.update(d=>({...d,pip_window:null})),r=null})}}function s(){r&&(r.close(),r=null,B.update(c=>({...c,pip_window:null})))}j();var o=fi(),u=_(o);{var f=c=>{var d=oi();T("click",d,s),w(c,d)},p=c=>{var d=ui();T("click",d,i),w(c,d)};W(u,c=>{a().pip_window?c(f):c(p,!1)})}w(e,o),q(),l()}var vi=x('<main class="svelte-k1ku4p"><div class="left svelte-k1ku4p"><!></div> <div class="middle svelte-k1ku4p"><div class="mid-holder svelte-k1ku4p"><div class="top svelte-k1ku4p"><!></div> <div class="bottom svelte-k1ku4p"><!></div></div></div> <div class="right svelte-k1ku4p"><!> <!></div> <audio style="display: none;" preload="metadata"></audio></main>');function di(e,t){D(t,!1);const[n,l]=G(),a=()=>Y(R,"$song",n);let r=U();function i(k){R.update(M=>({...M,currentTime:g(r).currentTime||k.target.currentTime}))}function s(){R.update(k=>({...k,duration:g(r).duration||0})),"mediaSession"in navigator&&(navigator.mediaSession.metadata=new MediaMetadata({title:X(R).title,artist:X(R).author.name,album:"",artwork:[{src:X(R).img.big,sizes:"512x512",type:"image/png"}]}))}ye(()=>(g(r),a()),()=>{g(r)&&(R.update(k=>({...k,ref:g(r)})),Ht(r,g(r).volume=a().volume))}),Pe(),j();var o=vi(),u=_(o),f=_(u);ai(f,{});var p=E(u,2),c=_(p),d=_(c),v=_(d);Pa(v);var h=E(d,2),y=_(h);Ta(y,{get song(){return R}});var m=E(p,2),b=_(m);ci(b,{});var $=E(b,2);li($,{});var P=E(m,2);et(P,k=>A(r,k),()=>g(r)),H(()=>_e(P,"src",(a(),S(()=>a().url?`/api/download?track_url=${a().url}`:"")))),T("loadedmetadata",P,s),T("timeupdate",P,i),T("play",P,()=>{tt(R,S(a).playing=!0,S(a))}),T("pause",P,()=>{tt(R,S(a).playing=!1,S(a))}),T("ended",P,()=>{if(a().repeat==1){F.play(a().formatted,a().playlist_data),R.update(k=>({...k,repeat:0}));return}if(a().repeat==2){F.play(a().formatted,a().playlist_data);return}F.next()}),T("loadeddata",P,()=>{if(a().autoplay){try{F.start()}catch{}R.update(k=>({...k,autoplay:!1}))}}),w(e,o),q(),l()}function pi(e){if(!e.length>3)return;let t=crypto.randomUUID();B.update(n=>({...n,playlists:{...n.playlists,[t]:{title:e,user_generated:!0,songs:[],id:t}}})),ka()}var _i=x('<div><h2>Create New Playlist</h2> <input placeholder="Playlist Name" class="svelte-cbopdj"/> <button class="svelte-cbopdj">Create</button></div>');function gi(e,t){D(t,!1);let n=U();j();var l=_i(),a=E(_(l),2),r=E(a,2);T("change",a,function(...i){A(n,this.value)?.apply(this,i)}),T("click",r,()=>pi(g(n))),w(e,l),q()}var hi=x('<div class="song-bottom svelte-i0lyco"><!> <!></div>'),mi=x('<div class="song-title svelte-i0lyco"><p> <span style="color: var(--subtext-color);"> </span></p></div> <div style="overflow: hidden; width:100%;height:100%;border-radius:5px;"><!></div> <!>',1);function yi(e,t){D(t,!1);let n=J(t,"data",8);j();var l=mi(),a=re(l),r=_(a),i=_(r),s=E(i),o=_(s),u=E(a,2),f=_(u);Dt(f,{get data(){return n()}});var p=E(u,2);{var c=d=>{var v=hi(),h=_(v);Sa(h,{get item(){return n()}});var y=E(h,2);It(y,{get item(){return n()}}),w(d,v)};W(p,d=>{n()&&d(c)})}H(()=>{Z(i,`${z(n()),S(()=>n()?.song?.name||"No Song Selected")??""} `),Z(o,`- ${z(n()),S(()=>n()?.author?.name||"No Song Selected")??""}`)}),w(e,l),q()}var bi=x('<h3>Select a playlist to add the song to!</h3> <p>Song:</p> <!> <p>Playlists:</p> <div class="scroll svelte-16pzhq7"></div>',1),wi=x("<p>You have 0 playlists, go to the playlists tab to create one!</p>");function $i(e,t){D(t,!1);const[n,l]=G(),a=()=>Y(B,"$globals",n);let r=J(t,"data",8);j();var i=fe(),s=re(i);{var o=f=>{var p=bi(),c=E(re(p),4);Ea(c,{get data(){return r()}});var d=E(c,4);Rt(d,5,()=>(a(),S(()=>Object.entries(a().playlists))),Ot,(v,h)=>{var y=on(()=>On(g(h),2));let m=()=>g(y)[1];var b=fe(),$=re(b);{var P=k=>{xa(k,{get item(){return m()},get addToPlaylist(){return r()}})};W($,k=>{m(),S(()=>m().user_generated)&&k(P)})}w(v,b)}),w(f,p)},u=f=>{var p=wi();w(f,p)};W(s,f=>{a(),S(()=>Object.keys(a().playlists).length>1)?f(o):f(u,!1)})}w(e,i),q(),l()}var ki=x('<main role="none" class="svelte-otvb51"><div role="none" class="island svelte-otvb51"><!></div></main>');function Ei(e,t){D(t,!1);const[n,l]=G(),a=()=>Y(B,"$globals",n);let r=U(),i=U();ye(()=>a(),()=>{a()&&(A(i,a().modal.data),A(r,a().modal.display))}),Pe(),j();var s=ki(),o=_(s),u=_(o);{var f=c=>{yi(c,{get data(){return g(i)}})},p=c=>{var d=fe(),v=re(d);{var h=m=>{gi(m,{get data(){return g(i)}})},y=m=>{var b=fe(),$=re(b);{var P=k=>{$i(k,{get data(){return g(i)}})};W($,k=>{a(),S(()=>a().modal.display=="edit-song")&&k(P)},!0)}w(m,b)};W(v,m=>{a(),S(()=>a().modal.display=="new-playlist")?m(h):m(y,!1)},!0)}w(c,d)};W(u,c=>{a(),S(()=>a().modal.display=="song-popup")?c(f):c(p,!1)})}H(()=>ue(s,g(r)?"":"display:none;")),T("click",o,Gt(function(c){ba.call(this,t,c)})),T("click",s,()=>{tt(B,S(a).modal.display=!1,S(a))}),w(e,s),q(),l()}function Si(){const e=document.getElementById("tooltip");let t=null,n="";document.addEventListener("mouseover",a=>{const r=a.target.closest("[data-title]");if(!r){e.classList.remove("show"),t=null;return}t=r;const i=r.getAttribute("data-title");i!==n&&(n=i,e.textContent=i,e.classList.remove("show"),e.offsetWidth,e.classList.add("show"));const s=r.getBoundingClientRect();let o=s.top-17,u=s.left+s.width/2;const f=e.getBoundingClientRect();u-f.width/2<0&&(u=f.width/2+5),u+f.width/2>window.innerWidth&&(u=window.innerWidth-f.width/2-5),o-f.height<0&&(o=s.bottom+5),e.style.top=`${o}px`,e.style.left=`${u}px`}),document.addEventListener("mouseout",a=>{a.target.closest("[data-title]")&&(e.classList.remove("show"),t=null,n="")}),new MutationObserver(a=>{for(const r of a)if(r.type==="attributes"&&r.attributeName==="data-title"&&t===r.target){const i=r.target.getAttribute("data-title");i!==n&&(n=i,e.textContent=i,e.classList.remove("show"),e.offsetWidth,e.classList.add("show"))}}).observe(document.body,{attributes:!0,subtree:!0,attributeFilter:["data-title"]})}var xi=x('<main class="svelte-1vawzwh"><!> <!> <!> <!></main>');function Pi(e,t){D(t,!1);const[n,l]=G(),a=()=>Y(B,"$globals",n);Jr(()=>{Si()}),ye(()=>(a(),B),()=>{a().liked&&B.update(f=>({...f,playlists:{...f.playlists,liked_songs:{...f.playlists.liked_songs,songs:[...f.liked]}}}))}),Pe(),j();var r=xi(),i=_(r);Ei(i,{});var s=E(i,2);ll(s);var o=E(s,2);Il(o,{});var u=E(o,2);ql(u,{children:(f,p)=>{di(f,{})},$$slots:{default:!0}}),w(e,r),q(),l()}da(Pi,{target:document.getElementById("app")});